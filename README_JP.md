# USBブートLinux GUIディスクユーティリティ

## 概要
このプロジェクトは、USBブートされたLinux環境において、内蔵ディスクや外付けディスクの操作をGUIで簡便に行うためのツールです。ディスクのマウント、フォーマット、および権限付与といった操作を、直感的なGUIを通じて実行できます。さまざまなLinux環境での互換性を確保し、ユーザー設定に対応しています。

## 主な機能
- 未マウントディスクのマウント
- コピー先ディスクのフォーマット（ext4、NTFS、exFAT、FAT32、ReFSに対応）
- マウント済みディスクのファイルマネージャーでの表示
- コピー先ディスクへの権限付与（chmod 777）
- ディスクのプロパティとS.M.A.R.T.情報の表示
- 環境に応じたファイルマネージャーの自動検出
- ユーザー設定機能（ファイルマネージャー、フォーマット形式など）
- レスポンシブなGUIレイアウト

## 動作環境
- Linux環境（USBブート環境を想定）
- Python 3.10以上
- sudo権限での実行が必要

## インストール方法

### ビルド済みバイナリを使用する場合（推奨）
1. [GitHubリリース](https://github.com/toma4423/salvage_linux/releases)から最新の`salvage_linux`バイナリをダウンロード
2. 実行権限を付与:
```
chmod +x salvage_linux
```
3. 実行:
```
sudo ./salvage_linux
```

### ソースコードから実行する場合
1. リポジトリをクローンまたはダウンロード：
```
git clone https://github.com/toma4423/salvage_linux.git
cd salvage_linux
```

2. 仮想環境を作成して有効化：
```
python3 -m venv venv
source venv/bin/activate
```

3. 必要なパッケージをインストール：
```
pip install -r requirements.txt
```

4. 実行：
```
sudo python3 -m src.main
```

## 使用方法
1. アプリケーションを起動すると、以下の画面が表示されます:
   - 左側のパネルには未マウントのディスクが表示されます
   - 右側のパネルにはマウント済みのディスクが表示されます
   - ディスクを選択すると、そのディスクの詳細情報が表示されます

2. 操作:
   - 未マウントディスクに対しては「マウント」と「フォーマット」が可能です
   - マウント済みディスクに対しては「ファイルマネージャーで開く」と「権限付与」が可能です

3. 設定:
   - メニューバーの「ファイル」→「設定」から設定画面を開けます
   - ファイルマネージャーの選択、ログレベル、フォーマット形式などを設定できます
   - 設定は自動的に保存され、次回起動時にも適用されます

## 設定機能
- **ファイルマネージャー設定**: 環境に応じて自動検出するか、特定のファイルマネージャーを指定可能
- **ログレベル設定**: デバッグ情報の詳細度を調整可能
- **デフォルトフォーマット形式**: よく使うフォーマット形式を設定可能
- **言語設定**: 表示言語の切り替え（今後のバージョンで追加予定）

## 注意事項
- ディスクとパーティションの誤操作に注意してください。誤った操作を行うと、データが消去されるなどの重大な問題が発生する可能性があります。
- フォーマットを行うと、そのディスクのデータはすべて消去されます。実行前に必ずバックアップを取ってください。
- Windows用のディスクを操作する場合は、Windowsの高速スタートアップや休止状態が無効になっていることを確認してください。
- 特定の権限を持つユーザー（システム管理者、技術者など）による利用を想定しています。
- 権限付与機能は、セキュリティ上の懸念があるため、安全な環境でのみ使用してください。

## 更新履歴
詳細な更新履歴は[CHANGELOG.md](CHANGELOG.md)を参照してください。

### 最新バージョン (v0.1.2)
- ユーザー設定機能を追加
- 環境に応じたファイルマネージャー自動検出機能を追加
- 設定ダイアログによる各種設定の変更機能を追加
- 異なるLinux環境でのファイルマネージャー互換性を向上

## ライセンス
MIT ライセンスの下で公開されています。詳細は[LICENSE](LICENSE)ファイルを参照してください。

## 貢献
バグ報告や機能リクエストは[GitHubのIssue](https://github.com/toma4423/salvage_linux/issues)にて受け付けています。
プルリクエストも歓迎します。

## 設定オプション

### ファイルマネージャー設定
- 好みのファイルマネージャーを選択（Nautilus、Nemo、Thunar）
- デフォルトのファイルマネージャーオプションを設定

### 詳細設定
- デフォルトのフォーマット形式（exFAT、FAT32、NTFS、ext4、ReFS）
- ログレベル設定
- ReFSサポートには追加ツールが必要です：
  ```bash
  # Debian/Ubuntu系の場合
  sudo apt-get update
  sudo apt-get install refs-tools

  # Fedora/RHEL系の場合
  sudo dnf install refs-tools
  ``` 